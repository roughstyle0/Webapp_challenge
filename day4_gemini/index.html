<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚·ãƒ•ãƒˆä»£ã‚ã£ã¦ï¼ä¾é ¼æ–‡ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: #F0FDFA; /* teal-50 */
        }
        /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ï¼ˆãƒ¢ãƒã‚¤ãƒ«ã§ã®è¦‹ãŸç›®å‘ä¸Šï¼‰ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* å…¥åŠ›ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®ãƒªãƒ³ã‚°è‰²èª¿æ•´ */
        .focus-ring:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.3);
            border-color: #14B8A6;
        }
    </style>
</head>
<body class="text-slate-700 min-h-screen flex items-center justify-center p-4">

    <div class="max-w-md w-full bg-white rounded-3xl shadow-xl overflow-hidden border border-teal-100">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¨ãƒªã‚¢ -->
        <div class="bg-teal-600 p-6 text-center relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none">
                <svg viewBox="0 0 100 100" preserveAspectRatio="none" class="w-full h-full">
                    <path d="M0 100 C 20 0 50 0 100 100 Z" fill="white" />
                </svg>
            </div>
            <h1 class="text-white text-xl font-bold relative z-10 tracking-wider">ã‚·ãƒ•ãƒˆä»£ã‚ã£ã¦ï¼<br><span class="text-sm font-normal opacity-90">for å¿™ã—ã„åº—é•·ã•ã‚“</span></h1>
        </div>

        <main class="p-6 space-y-6">
            <!-- ãƒ•ã‚©ãƒ¼ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <form id="requestForm" class="space-y-5" onsubmit="return false;">
                
                <!-- æ—¥æ™‚é¸æŠ -->
                <div class="grid grid-cols-2 gap-4">
                    <div class="col-span-2">
                        <label class="block text-sm font-bold text-teal-800 mb-1">ã„ã¤ï¼Ÿ <span class="text-red-400 text-xs">*</span></label>
                        <input type="date" id="date" required class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-700 focus-ring transition-all">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-teal-800 mb-1">é–‹å§‹ <span class="text-red-400 text-xs">*</span></label>
                        <input type="time" id="startTime" required class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-700 focus-ring transition-all text-center">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-teal-800 mb-1">çµ‚äº† <span class="text-red-400 text-xs">*</span></label>
                        <input type="time" id="endTime" required class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-700 focus-ring transition-all text-center">
                    </div>
                </div>

                <!-- ç†ç”±é¸æŠ -->
                <div>
                    <label class="block text-sm font-bold text-teal-800 mb-1">ã©ã†ã—ã¦ï¼Ÿ</label>
                    <select id="reason" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-700 focus-ring transition-all appearance-none cursor-pointer">
                        <option value="sick">æ€¥ãªæ¬ å‹¤ï¼ˆä½“èª¿ä¸è‰¯ãªã©ï¼‰ãŒå‡ºãŸ</option>
                        <option value="busy">äºˆæƒ³ä»¥ä¸Šã®æ··é›‘ãƒ»äºˆç´„ãŒå…¥ã£ãŸ</option>
                        <option value="shortage">ã‚·ãƒ•ãƒˆæå‡ºãŒå°‘ãªãäººæ‰‹ä¸è¶³</option>
                        <option value="other">ãã®ä»–ï¼ˆç†ç”±ã¯è©³ã—ãæ›¸ã‹ãªã„ï¼‰</option>
                    </select>
                </div>

                <!-- åˆ‡è¿«åº¦ï¼ˆãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³é¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ -->
                <div>
                    <label class="block text-sm font-bold text-teal-800 mb-2">ã©ã‚Œãã‚‰ã„ãƒ”ãƒ³ãƒï¼Ÿ</label>
                    <div class="grid grid-cols-3 gap-2">
                        <!-- Low -->
                        <label class="cursor-pointer">
                            <input type="radio" name="urgency" value="low" class="peer sr-only">
                            <div class="h-full flex flex-col items-center justify-center p-2 border-2 border-slate-100 rounded-xl peer-checked:border-teal-400 peer-checked:bg-teal-50 transition-all hover:bg-slate-50">
                                <span class="text-2xl mb-1">ğŸ˜Œ</span>
                                <span class="text-xs font-bold text-slate-500 peer-checked:text-teal-700">ã§ãã‚Œã°</span>
                            </div>
                        </label>
                        <!-- Medium -->
                        <label class="cursor-pointer">
                            <input type="radio" name="urgency" value="medium" class="peer sr-only" checked>
                            <div class="h-full flex flex-col items-center justify-center p-2 border-2 border-slate-100 rounded-xl peer-checked:border-orange-400 peer-checked:bg-orange-50 transition-all hover:bg-slate-50">
                                <span class="text-2xl mb-1">ğŸ’¦</span>
                                <span class="text-xs font-bold text-slate-500 peer-checked:text-orange-700">å›°ã£ã¦ã‚‹</span>
                            </div>
                        </label>
                        <!-- High -->
                        <label class="cursor-pointer">
                            <input type="radio" name="urgency" value="high" class="peer sr-only">
                            <div class="h-full flex flex-col items-center justify-center p-2 border-2 border-slate-100 rounded-xl peer-checked:border-red-400 peer-checked:bg-red-50 transition-all hover:bg-slate-50">
                                <span class="text-2xl mb-1">ğŸ†˜</span>
                                <span class="text-xs font-bold text-slate-500 peer-checked:text-red-700">ã‚¬ãƒSOS</span>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- ç”Ÿæˆãƒœã‚¿ãƒ³ -->
                <button type="button" onclick="generateText()" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 rounded-xl shadow-md transform transition active:scale-95 flex items-center justify-center gap-2">
                    <span>âœ¨ æ–‡ç« ã‚’ã¤ãã‚‹</span>
                </button>
            </form>

            <!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ï¼ˆåˆæœŸã¯éè¡¨ç¤ºï¼‰ -->
            <div id="resultArea" class="hidden space-y-3 pt-2 border-t border-dashed border-slate-200">
                <div class="flex justify-between items-end">
                    <label class="text-sm font-bold text-teal-800">LINEç”¨ãƒ†ã‚­ã‚¹ãƒˆ</label>
                    <span class="text-xs text-slate-400">è‡ªç”±ã«ç·¨é›†ã§ãã¾ã™</span>
                </div>
                
                <textarea id="outputText" rows="6" class="w-full bg-slate-50 border border-slate-300 rounded-xl p-3 text-sm leading-relaxed focus-ring resize-none"></textarea>

                <button onclick="copyToClipboard()" id="copyBtn" class="w-full bg-slate-800 hover:bg-slate-900 text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                    </svg>
                    <span>ã‚³ãƒ”ãƒ¼ã—ã¦LINEã‚’é–‹ã</span>
                </button>
                <div id="toast" class="hidden text-center text-xs text-teal-600 font-bold fade-in">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</div>
            </div>
        </main>
        
        <footer class="bg-slate-50 p-4 text-center text-xs text-slate-400">
            ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ç„¡ç†ã›ãšã„ãã¾ã—ã‚‡ã†ğŸµ
        </footer>
    </div>

    <script>
        // ä»Šæ—¥ã®æ—¥ä»˜ã‚’ã‚»ãƒƒãƒˆ
        window.addEventListener('DOMContentLoaded', () => {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('date').value = today;
        });

        function generateText() {
            const dateVal = document.getElementById('date').value;
            const startTime = document.getElementById('startTime').value;
            const endTime = document.getElementById('endTime').value;
            const reason = document.getElementById('reason').value;
            const urgency = document.querySelector('input[name="urgency"]:checked').value;

            // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            if (!dateVal || !startTime || !endTime) {
                alert("æ—¥ä»˜ã¨æ™‚é–“ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ğŸ’¦");
                return;
            }

            // æ—¥ä»˜ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ (ä¾‹: 10/24(é‡‘))
            const dateObj = new Date(dateVal);
            const days = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
            const formattedDate = `${dateObj.getMonth() + 1}/${dateObj.getDate()}(${days[dateObj.getDay()]})`;

            // ç†ç”±ã®ãƒ†ã‚­ã‚¹ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°
            const reasonTexts = {
                sick: "æ€¥ãªä½“èª¿ä¸è‰¯ã®ã‚¹ã‚¿ãƒƒãƒ•ãŒå‡ºã¦ã—ã¾ã„ã€",
                busy: "ã‚ã‚ŠãŒãŸã„ã“ã¨ã«äºˆæƒ³ä»¥ä¸Šã®æ··é›‘ã«ãªã£ã¦ãŠã‚Šã€",
                shortage: "ã“ã®æ™‚é–“å¸¯ã®ã‚·ãƒ•ãƒˆãŒè–„ããªã£ã¦ãŠã‚Šã€",
                other: "æ€¥ã§ç”³ã—è¨³ãªã„ã®ã§ã™ãŒã€"
            };

            // åˆ‡è¿«åº¦åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
            let intro = "";
            let plea = "";
            let outro = "";

            if (urgency === 'low') {
                intro = "ãŠç–²ã‚Œæ§˜ã§ã™ï¼åº—é•·ã§ã™ğŸµ";
                plea = `ã‚‚ã—ã”éƒ½åˆã¤ã‘ã°ã€\nã€${formattedDate} ${startTime}ã€œ${endTime}ã€‘\nã«å…¥ã‚Œã‚‹äººã¯ã„ã¾ã›ã‚“ã‹ï¼Ÿ`;
                outro = `ç„¡ç†ã¯è¨€ã„ã¾ã›ã‚“ã®ã§ã€ç©ºã„ã¦ã‚‹ã‚ˆã£ã¦äººãŒã„ã‚Œã°é€£çµ¡ã‚‚ã‚‰ãˆã‚‹ã¨åŠ©ã‹ã‚Šã¾ã™ï¼ğŸ™`;
            } else if (urgency === 'medium') {
                intro = "ãŠç–²ã‚Œæ§˜ã§ã™ã€‚æ€¥ãªç›¸è«‡ã§ã”ã‚ã‚“ãªã•ã„ğŸ’¦";
                plea = `${reasonTexts[reason]}\nã€${formattedDate} ${startTime}ã€œ${endTime}ã€‘\nã«ãŠæ‰‹ä¼ã„ã‚’ãŠé¡˜ã„ã§ãã¾ã›ã‚“ã‹ï¼Ÿ`;
                outro = "çŸ­ã„æ™‚é–“ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ï¼å…¥ã‚Œã‚‹ã‚ˆã¨ã„ã†æ–¹ãŒã„ã‚Œã°ã€å€‹åˆ¥ã«é€£çµ¡ã„ãŸã ã‘ã‚‹ã¨æœ¬å½“ã«åŠ©ã‹ã‚Šã¾ã™ğŸ™‡â€â™‚ï¸";
            } else if (urgency === 'high') {
                intro = "ã€SOSã€‘ãŠç–²ã‚Œæ§˜ã§ã™ã€åº—é•·ã§ã™ï¼æœ¬å½“ã«å›°ã£ã¦ã„ã¾ã™ğŸ˜­";
                plea = `${reasonTexts[reason]}\nåº—ãŒå›ã‚Šãã†ã«ã‚ã‚Šã¾ã›ã‚“...ã€‚\n\nã€${formattedDate} ${startTime}ã€œ${endTime}ã€‘`;
                outro = "ã“ã®ã¾ã¾ã ã¨ãƒ”ãƒ³ãƒã§ã™ã€‚1æ™‚é–“ã ã‘ã§ã‚‚ã€å°‘ã—é…ã‚Œã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ï¼\nã€ŒåŠ©ã‘ã¦ã‚„ã‚‹ã‚ˆï¼ã€ã¨ã„ã†æ•‘ä¸–ä¸»ã®æ–¹ã€ã©ã†ã‹é€£çµ¡ãã ã•ã„ï¼ï¼ğŸ™‡â€â™‚ï¸ğŸ™‡â€â™‚ï¸";
            }

            // ãƒ†ã‚­ã‚¹ãƒˆçµåˆ
            const finalMessage = `${intro}\n\n${plea}\n\n${outro}`;

            // å‡ºåŠ›ã¨è¡¨ç¤ºã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            const resultArea = document.getElementById('resultArea');
            const outputText = document.getElementById('outputText');
            
            outputText.value = finalMessage;
            
            resultArea.classList.remove('hidden');
            resultArea.classList.add('fade-in');
            
            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«èª¿æ•´
            setTimeout(() => {
                resultArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }

        function copyToClipboard() {
            const text = document.getElementById('outputText');
            text.select();
            text.setSelectionRange(0, 99999); // Mobileå¯¾å¿œ

            // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰APIã‚’è©¦ã—ã€ã ã‚ãªã‚‰execCommand
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text.value).then(showToast);
            } else {
                document.execCommand('copy');
                showToast();
            }
        }

        function showToast() {
            const btn = document.getElementById('copyBtn');
            const originalContent = btn.innerHTML;
            const toast = document.getElementById('toast');

            // ãƒœã‚¿ãƒ³ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
            btn.classList.replace('bg-slate-800', 'bg-teal-600');
            btn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span>ã‚³ãƒ”ãƒ¼å®Œäº†ï¼</span>
            `;
            
            toast.classList.remove('hidden');

            setTimeout(() => {
                btn.classList.replace('bg-teal-600', 'bg-slate-800');
                btn.innerHTML = originalContent;
                toast.classList.add('hidden');
            }, 2000);
        }
    </script>
</body>
</html>
